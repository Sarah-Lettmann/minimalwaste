.menu {
  display: flex;
  @include breakpoint(desktop) {
    height: 100%;
  }
  @include breakpoint(mobile) {
    background-color: $neutral-500;
    flex-direction: column;
    left: 0;
    max-height: 300px; // needs to be adapted, if more items are added to the menu
    overflow: hidden;
    padding: 0 $page-side-padding;
    position: fixed;
    right: 0;
    top: $height-mobile-header;
    @include transition-custom(max-height, .3s, ease-in-out, 0s);
  }

  &--hidden {
    @include breakpoint(mobile) {
      max-height: 0;
    }

    > .menu__item {
      @include breakpoint(mobile) {
        opacity: 0;
      }
    }
  }

  > .menu__item {
    @include breakpoint(mobile) {

      &:first-of-type {
        margin-top: .75rem;
      }

      &:last-of-type {
        margin-bottom: .75rem;
      }
    }
  }

  &__item--has-submenu {
    @include breakpoint(desktop) {
      @include attention {
        .menu__submenu {
          top: 70px;
        }
      }
    }
  }

  &__link--has-submenu {
    @include attention {
      ~ .menu__submenu {
        top: 70px;
      }
    }
  }
}
